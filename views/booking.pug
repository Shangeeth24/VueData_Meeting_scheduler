//- doctype html
//- html(lang="en")
//-   head
//-     meta(charset="UTF-8")
//-     meta(name="viewport", content="width=device-width, initial-scale=1.0")
//-     title Booking
//-     link(rel="stylesheet", href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css")
//-     //- link(rel="stylesheet", href="./styles.css")

//-   body(class="bg-dark d-flex align-items-center justify-content-center", style="min-height: 100vh; margin: 0;")
//-     div(class="bg-white rounded p-4 shadow", style="flex-wrap: wrap; display: flex;")
//-       div.col.p-3(id="card-id")
//-         h1 MEETING BOOKING
//-         form(id="bookingForm")
//-           div.mb-3
//-             label.form-label(for="name") Meeting ID
//-             input#name.form-control(type="number", name="meetingId")

//-           div.mb-3
//-             label.form-label(for="room") Room
//-             select#room.form-select(name="room")
//-               option(value="warroom") War Room
//-               option(value="cubicalroom") Cubical Room
//-               option(value="Inspiration Chamber") Inspiration Chamber

//-           div.mb-3
//-             label.form-label(for="starttime") Start Time
//-             input#starttime.form-control(type="datetime-local", name="starttime")

//-           div.mb-3
//-             label.form-label(for="endtime") End Time
//-             input#endtime.form-control(type="datetime-local", name="endtime")

//-           div.mb-3
//-             label.form-label(for="name") Organizer Name
//-             input#name.form-control(type="text", name="name")

//-           div.row.gx-2.gy-3
//-             div.col
//-               button.btn.btn-primary.w-100(type="button", onclick="insertFunction()") Insert
//-             div.col
//-               button.btn.btn-primary.w-100(type="button", onclick="updateFunction()") Update

//-           div.row.gx-2.gy-3.mt-3
//-             div.col
//-               button.btn.btn-primary.w-100(type="button", onclick="deleteFunction()") Delete
//-             div.col
//-               button.btn.btn-primary.w-100(type="button", onclick="clearFunction()") Clear



//-     script.
//-     function insertFunction() {
//-       // Grab the form's values
//-       const meetingId = document.getElementById('name').value;
//-       const room = document.getElementById('room').value;
//-       const startTime = document.getElementById('starttime').value;
//-       const endTime = document.getElementById('endtime').value;
//-       const organizerName = document.getElementById('name').value; // Note that this ID is duplicate. It should be unique.

//-       // Log the form's values
//-       console.log('Meeting ID:', meetingId);
//-       console.log('Room:', room);
//-       console.log('Start Time:', startTime);
//-       console.log('End Time:', endTime);
//-       console.log('Organizer Name:', organizerName);
//-     }


//-     // // / /// // /

doctype html
html(lang="en")
  head
    meta(charset="UTF-8")
    meta(name="viewport", content="width=device-width, initial-scale=1.0")
    title Booking
    link(rel="stylesheet", href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css")
    //- link(rel="stylesheet", href="./styles.css")

  body(class="bg-dark d-flex align-items-center justify-content-center", style="min-height: 100vh; margin: 0;")
    div(class="bg-white rounded p-4 shadow", style="flex-wrap: wrap; display: flex;")
      div.col.p-3(id="card-id")
        h1 MEETING BOOKING
        form(id="bookingForm")
          div.mb-3
            //- label.form-label(for="meetingId") Meeting ID
            //- input#meetingId.form-control(type="number", name="meetingId")
          div.mb-3
            label.form-label(for="roomId") Room
            select#roomId.form-select(name="roomId")
              option(value=1) War Room
              option(value=2) Cubical Room
              option(value=3) Inspiration Chamber

          div.mb-3
            label.form-label(for="starttime") Start Time
            input#starttime.form-control(type="datetime-local", name="starttime")

          div.mb-3
            label.form-label(for="endtime") End Time
            input#endtime.form-control(type="datetime-local", name="endtime")

          div.mb-3
            label.form-label(for="employeeId") Organizer Name
            input#employeeId.form-control(type="text", name="employeeId")

          
          div.row.gx-2.gy-3
            div.col
              button.btn.btn-primary.w-100(type="button", onclick="insertFunction()") Insert
            div.col
              button.btn.btn-primary.w-100(type="button", onclick="updateFunction()") Update

          div.row.gx-2.gy-3.mt-3
            div.col
              button.btn.btn-primary.w-100(type="button", onclick="deleteFunction()") Delete
            div.col
              button.btn.btn-primary.w-100(type="button", onclick="clearFunction()") Clear

    script.

      function clearFunction() {
        //- document.getElementById('meetingId').value = '';
        document.getElementById('roomId').value = 'War Room'; 
        document.getElementById('starttime').value = '';
        document.getElementById('endtime').value = '';
        document.getElementById('employeeId').value = '';

      }
      function insertFunction() {
        //- const meetingId = document.getElementById('meetingId').value;
        const roomId = document.getElementById('roomId').value;
        const startTime = document.getElementById('starttime').value;
        const endTime = document.getElementById('endtime').value;
        const employeeId = document.getElementById('employeeId').value;

        const formData = {
          //- meetingId,
          roomId,
          startTime,
          endTime,
          employeeId
        };

        fetch("/insertBooking", {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
          },
          body: JSON.stringify(formData),
        })
        .then(response => response.json())
        .then(data => console.log(data))
        clearFunction()
        
        .catch((error) => console.error('Error:', error));
      }


